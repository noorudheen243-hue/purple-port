import{v,q as D,u as A,r as n,x as b,j as e,C as I}from"./index-CVFz3GnQ.js";import{T as R,a as P,b as r,c as i}from"./tabs-Dihxgigl.js";import O from"./TaskDashboard-CIKm3PmZ.js";import{N as w,T as q}from"./TaskList-BcqNsuMF.js";import F from"./MyTasks-B6MYcCjd.js";import _ from"./CalendarView-BM5Jl95K.js";import B from"./TeamPerformance-PQVUl6n4.js";import G from"./index-DSLVwOdn.js";import{u as H,i as z,S as u,p as V,j as K,l as Q,C as W,F as $}from"./index-MXZ1Fyy1.js";import{F as U}from"./filter-wAG_XgtK.js";import{S as Y}from"./square-pen-Sra3cVmY.js";import{L as J}from"./layout-dashboard-wnXUPYGI.js";import{C as X}from"./clipboard-list-B3GWzL3o.js";import{B as Z}from"./bar-chart-3-CS_6Br8k.js";import{P as ee}from"./plus-circle-dvPEu8Jt.js";import"./index-CGf8YfUr.js";import"./index-C_y8q7n2.js";import"./check-circle-C7q7Y3EO.js";import"./panels-top-left-Bx5j4S86.js";import"./alert-circle-DVBvcfOk.js";import"./CategoricalChart-D2XFSdKj.js";import"./PieChart-BsnQEI59.js";import"./BarChart-Dfc35vU_.js";import"./ClientFormModal-CMSEf1Qy.js";import"./ImageUpload-B3ISCpRG.js";import"./loader-2-BN6j0axX.js";import"./FormErrorAlert-DfwZ5q27.js";import"./building-BzvWEz6W.js";import"./target-0LBVyXOu.js";import"./dollar-sign-Cr9gzRim.js";import"./globe-BQp5RlSI.js";import"./pen-D-r2-cwB.js";import"./save-Ch7_aoOB.js";import"./link-DaAnAjwX.js";import"./layers-DyhbTBQr.js";import"./dropdown-menu-BT2lFpFH.js";import"./index-COFXZIMB.js";import"./circle-ByjxmAD-.js";import"./pencil-D8PRgE1X.js";import"./clock-DRstIMdH.js";import"./endOfWeek-D821bHIH.js";import"./subMonths-D4QG7jFA.js";import"./startOfMonth-C0iE2rZu.js";import"./card-L7c9AA96.js";import"./select-CRNC5CBq.js";import"./table-DEHLnAz_.js";import"./building-2-YASNNcnB.js";/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=v("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=v("KanbanSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]]),se=()=>{const c=D(),{user:m}=A(),[d,N]=n.useState(""),[p,T]=n.useState("ALL"),[C,h]=n.useState(!1),[S,j]=n.useState(null),{data:x,isLoading:k}=H({queryKey:["tasks"],queryFn:()=>b.get("/tasks").then(t=>t.data)}),E=z({mutationFn:async t=>await b.delete(`/tasks/${t}`),onSuccess:()=>{c.invalidateQueries({queryKey:["tasks"]}),u.fire("Deleted!","Task has been deleted.","success")},onError:t=>{var a,s;u.fire("Error",((s=(a=t.response)==null?void 0:a.data)==null?void 0:s.message)||"Failed to delete task","error")}}),L=t=>{u.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&E.mutate(t)})},M=t=>{j(t),h(!0)},g=[...(x==null?void 0:x.filter(t=>{var l,o,f,y;const a=t.title.toLowerCase().includes(d.toLowerCase())||((o=(l=t.client)==null?void 0:l.name)==null?void 0:o.toLowerCase().includes(d.toLowerCase()))||((y=(f=t.assignee)==null?void 0:f.full_name)==null?void 0:y.toLowerCase().includes(d.toLowerCase())),s=p==="ALL"||t.status===p;return a&&s}))||[]].sort((t,a)=>new Date(a.created_at).getTime()-new Date(t.created_at).getTime());return e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-xl border shadow-sm",children:[e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(V,{className:"absolute left-3 top-3 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search tasks, clients, or assignee...",className:"w-full pl-10 pr-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-purple-200 outline-none",value:d,onChange:t=>N(t.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[e.jsx(U,{className:"text-gray-500",size:18}),e.jsxs("select",{className:"px-4 py-2.5 border rounded-lg focus:ring-2 focus:ring-purple-200 outline-none bg-white",value:p,onChange:t=>T(t.target.value),children:[e.jsx("option",{value:"ALL",children:"All Status"}),e.jsx("option",{value:"PLANNED",children:"Planned"}),e.jsx("option",{value:"ASSIGNED",children:"Assigned"}),e.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),e.jsx("option",{value:"REVIEW",children:"Review"}),e.jsx("option",{value:"COMPLETED",children:"Completed"})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl border shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 border-b text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:[e.jsx("th",{className:"p-4",children:"Task"}),e.jsx("th",{className:"p-4",children:"Client"}),e.jsx("th",{className:"p-4",children:"Assignee"}),e.jsx("th",{className:"p-4",children:"Status"}),e.jsx("th",{className:"p-4",children:"Created Date"}),e.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{children:k?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-muted-foreground",children:"Loading tasks..."})}):g.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-muted-foreground",children:"No tasks found."})}):g.map(t=>{var a,s,l,o;return e.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50/50 transition-colors group",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.title}),e.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase tracking-wide border ${t.priority==="URGENT"?"bg-red-50 text-red-700 border-red-200":t.priority==="HIGH"?"bg-orange-50 text-orange-700 border-orange-200":t.priority==="MEDIUM"?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-50 text-gray-600 border-gray-200"}`,children:t.priority})]})}),e.jsx("td",{className:"p-4 text-sm text-gray-600",children:((a=t.client)==null?void 0:a.name)||e.jsx("span",{className:"text-gray-400 italic",children:"Internal / General"})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-100 flex items-center justify-center text-xs font-bold text-purple-700",children:(l=(s=t.assignee)==null?void 0:s.full_name)==null?void 0:l.charAt(0)}),e.jsx("span",{className:"text-sm text-gray-700",children:(o=t.assignee)==null?void 0:o.full_name})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${t.status==="COMPLETED"?"bg-green-100 text-green-700":t.status==="IN_PROGRESS"?"bg-blue-100 text-blue-700":t.status==="REVIEW"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"}`,children:t.status.replace("_"," ")})}),e.jsx("td",{className:"p-4 text-sm text-gray-500",children:K(new Date(t.created_at),"MMM dd, yyyy")}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>M(t),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Task",children:e.jsx(Y,{size:16})}),e.jsx("button",{onClick:()=>L(t.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Task",children:e.jsx(Q,{size:16})})]})})]},t.id)})})]})})}),e.jsx(w,{isOpen:C,onClose:()=>{h(!1),j(null)},initialData:S})]})},Xe=()=>{const[c,m]=I.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:e.jsxs(R,{defaultValue:"dashboard",className:"w-full space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsx("div",{className:"bg-muted/40 p-2 rounded-lg border overflow-x-auto w-full md:w-auto",children:e.jsxs(P,{className:"bg-transparent gap-2 h-auto p-0 min-w-max justify-start",children:[e.jsxs(r,{value:"dashboard",className:"data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-sm px-4 py-2 rounded-md font-medium transition-all",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),e.jsxs(r,{value:"mytasks",className:"data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-sm px-4 py-2 rounded-md font-medium transition-all",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"My Tasks"]}),e.jsxs(r,{value:"board",className:"data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-sm px-4 py-2 rounded-md font-medium transition-all",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Task Board"]}),e.jsxs(r,{value:"calendar",className:"data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-sm px-4 py-2 rounded-md font-medium transition-all",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Calendar"]}),e.jsxs(r,{value:"performance",className:"data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-sm px-4 py-2 rounded-md font-medium transition-all",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Team Performance"]}),e.jsxs(r,{value:"reports",className:"data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-sm px-4 py-2 rounded-md font-medium transition-all",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Reports"]}),e.jsxs(r,{value:"history",className:"data-[state=active]:bg-white data-[state=active]:text-primary data-[state=active]:shadow-sm px-4 py-2 rounded-md font-medium transition-all",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"History"]})]})}),e.jsxs("button",{onClick:()=>m(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-purple-200 transition-all flex items-center gap-2 whitespace-nowrap active:scale-95",children:[e.jsx(ee,{size:20,strokeWidth:2.5}),"Create New Task"]})]}),e.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-6 min-h-[500px]",children:[e.jsx(i,{value:"dashboard",className:"mt-0",children:e.jsx(O,{view:"CREATIVE"})}),e.jsx(i,{value:"mytasks",className:"mt-0",children:e.jsx(F,{})}),e.jsx(i,{value:"board",className:"mt-0",children:e.jsx(q,{})}),e.jsx(i,{value:"calendar",className:"mt-0",children:e.jsx(_,{})}),e.jsx(i,{value:"performance",className:"mt-0",children:e.jsx(B,{})}),e.jsx(i,{value:"reports",className:"mt-0",children:e.jsx(G,{})}),e.jsx(i,{value:"history",className:"mt-0",children:e.jsx(se,{})})]})]})}),e.jsx(w,{isOpen:c,onClose:()=>m(!1)})]})};export{Xe as default};
