import{r as u,j as e,x as m}from"./index-CVFz3GnQ.js";import{a1 as p,I as n,B as j}from"./index-MXZ1Fyy1.js";import{C as h,a as y,b as v,c as f}from"./card-L7c9AA96.js";import{L as t}from"./label-BDi2E6m5.js";import{S,a as L,b,c as g,d as r}from"./select-CRNC5CBq.js";import{T as C}from"./textarea-D2C36G61.js";import"./index-C_y8q7n2.js";import"./index-COFXZIMB.js";const D=()=>{const{register:l,handleSubmit:c,formState:{errors:N},setValue:a}=p(),[i,d]=u.useState(!1),o=async s=>{d(!0);try{await m.post("/leave/apply",{type:s.type,start_date:s.start_date,end_date:s.end_date,reason:s.reason}),alert("Leave request submitted successfully!"),a("reason",""),a("type",""),a("start_date",""),a("end_date","")}catch(x){console.error(x),alert("Failed to submit request. Please try again.")}finally{d(!1)}};return e.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Leave Request"}),e.jsxs(h,{children:[e.jsx(y,{children:e.jsx(v,{children:"Apply for Leave"})}),e.jsx(f,{children:e.jsxs("form",{onSubmit:c(o),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Start Date"}),e.jsx(n,{type:"date",...l("start_date",{required:!0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"End Date"}),e.jsx(n,{type:"date",...l("end_date",{required:!0})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Leave Type"}),e.jsxs(S,{onValueChange:s=>a("type",s),children:[e.jsx(L,{children:e.jsx(b,{placeholder:"Select Type"})}),e.jsxs(g,{children:[e.jsx(r,{value:"CASUAL",children:"Casual Leave"}),e.jsx(r,{value:"SICK",children:"Sick Leave"}),e.jsx(r,{value:"EARNED",children:"Earned Privilege Leave"}),e.jsx(r,{value:"LOP",children:"Loss of Pay (LOP)"}),e.jsx(r,{value:"MATERNITY",children:"Maternity Leave"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Reason"}),e.jsx(C,{...l("reason",{required:!0}),placeholder:"Reason for leave..."})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(j,{type:"submit",disabled:i,children:i?"Submitting...":"Submit Request"})})]})})]})]})};export{D as default};
