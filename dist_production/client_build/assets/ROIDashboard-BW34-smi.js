import{v as j,r as l,w as x,j as e,D as u}from"./index-W29iofZb.js";import{D as f}from"./dollar-sign-D_iSpoek.js";import{T as b}from"./index-BJPAJU8j.js";import{T as N}from"./target-DsFD-ZfX.js";/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=j("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]),C=()=>{const[a,m]=l.useState([]),[h,g]=l.useState(!0),[r,d]=l.useState(!1);l.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:s}=await x.get("/ad-intelligence/stats");m(s)}catch(s){console.error("Failed to fetch ROI stats:",s)}finally{g(!1)}},p=async()=>{d(!0);try{await x.post("/ad-intelligence/sync"),await i(),alert("Data synced successfully from Ad Platforms!")}catch(s){alert("Sync failed. Check console."),console.error(s)}finally{d(!1)}};if(h)return e.jsx("div",{children:"Loading Intelligence..."});const n=a.reduce((s,t)=>s+t.spend,0),c=a.reduce((s,t)=>s+t.revenue,0),o=n>0?c/n:0,y=a.reduce((s,t)=>s+t.conversions,0);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Ad Intelligence & ROI"}),e.jsxs("button",{onClick:p,disabled:r,className:`flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 transition-all ${r?"animate-pulse":""}`,children:[e.jsx(u,{size:18,className:r?"animate-spin":""}),r?"Syncing...":"Sync Ad Data"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Ad Spend (30d)"}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:["₹",n.toLocaleString("en-IN")]})]}),e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(f,{className:"text-gray-600",size:24})})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),e.jsxs("h3",{className:"text-2xl font-bold text-green-600 mt-1",children:["₹",c.toLocaleString("en-IN")]})]}),e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(b,{className:"text-green-600",size:24})})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg. ROAS"}),e.jsxs("h3",{className:`text-2xl font-bold mt-1 ${o>=2?"text-green-600":"text-yellow-600"}`,children:[o.toFixed(2),"x"]})]}),e.jsx("div",{className:"p-2 bg-yellow-50 rounded-lg",children:e.jsx(N,{className:"text-yellow-600",size:24})})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Conversions"}),e.jsx("h3",{className:"text-2xl font-bold text-blue-600 mt-1",children:y})]}),e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(v,{className:"text-blue-600",size:24})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Campaign Performance"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase",children:"Campaign"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase",children:"Client"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase text-right",children:"Spend"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase text-right",children:"Revenue"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-gray-500 uppercase text-right",children:"ROAS"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:a.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:'No data found. Try clicking "Sync Ad Data".'})}):a.map((s,t)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:s.campaignName}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:s.clientName}),e.jsxs("td",{className:"px-6 py-4 text-sm text-right font-mono",children:["₹",s.spend.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 text-sm text-right font-mono text-green-700",children:["₹",s.revenue.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4 text-sm text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs("span",{className:`font-bold ${s.roas>=4?"text-green-600":s.roas>=2?"text-blue-600":"text-red-600"}`,children:[s.roas.toFixed(1),"x"]}),e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${s.roas>=4?"bg-green-500":s.roas>=2?"bg-blue-500":"bg-red-500"}`,style:{width:`${Math.min(s.roas/5*100,100)}%`}})})]})})]},t))})]})})]})]})};export{C as default};
