import{q as f,r as l,w as h,j as e,G as y,L as g}from"./index-CYovX-18.js";import{d as N,R as v,q as C,O as w,r as k,B as D,E as S,X as q,u as L,C as O}from"./index-DG6laMbl.js";import{A as _}from"./arrow-left-BI3a_3j-.js";const z=({clientId:r,isOpen:c,onClose:n})=>{const a=f(),[o,d]=l.useState(""),[i,s]=l.useState(""),[u,x]=l.useState(""),[p,b]=l.useState(""),m=N({mutationFn:async t=>await h.post("/campaigns",t),onSuccess:()=>{a.invalidateQueries({queryKey:["client",r]}),n(),d(""),s(""),x(""),b("")}}),j=t=>{t.preventDefault(),m.mutate({title:o,start_date:i,end_date:u,goals:p,client_id:r})};return e.jsx(v,{open:c,onOpenChange:n,children:e.jsxs(C,{children:[e.jsx(w,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e.jsxs(k,{className:"fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] bg-card p-6 rounded-lg shadow-lg w-[90vw] max-w-md z-50 border border-border",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx(D,{className:"text-xl font-semibold",children:"Create New Campaign"}),e.jsx(S,{className:"text-muted-foreground hover:text-foreground",children:e.jsx(q,{size:20})})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Campaign Title"}),e.jsx("input",{type:"text",className:"w-full h-10 px-3 rounded-md border border-input bg-background",value:o,onChange:t=>d(t.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full h-10 px-3 rounded-md border border-input bg-background",value:i,onChange:t=>s(t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full h-10 px-3 rounded-md border border-input bg-background",value:u,onChange:t=>x(t.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Goals (Optional)"}),e.jsx("textarea",{className:"w-full p-3 rounded-md border border-input bg-background min-h-[100px]",value:p,onChange:t=>b(t.target.value)})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-muted-foreground hover:text-foreground",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m.isPending,className:"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50",children:m.isPending?"Creating...":"Create Campaign"})]})]})]})]})})},G=()=>{var d,i;const{id:r}=y(),[c,n]=l.useState(!1),{data:a,isLoading:o}=L({queryKey:["client",r],queryFn:async()=>{const{data:s}=await h.get(`/clients/${r}`);return s}});return o?e.jsx("div",{children:"Loading..."}):a?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(g,{to:"/dashboard/clients",className:"text-muted-foreground hover:text-foreground",children:e.jsx(_,{size:20})}),e.jsx("h1",{className:"text-3xl font-bold",children:a.name}),e.jsx("span",{className:"px-3 py-1 bg-muted rounded-full text-sm",children:a.industry})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Campaigns"}),e.jsx("button",{onClick:()=>n(!0),className:"bg-primary text-primary-foreground px-4 py-2 rounded-md font-medium text-sm",children:"+ New Campaign"})]}),e.jsxs("div",{className:"space-y-4",children:[(d=a.campaigns)==null?void 0:d.map(s=>e.jsxs("div",{className:"bg-card border border-border p-4 rounded-lg flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(s.start_date).toLocaleDateString()," - ",new Date(s.end_date).toLocaleDateString()]})]}),e.jsxs(g,{to:`/dashboard/calendar?client_id=${a.id}`,className:"text-primary hover:underline flex items-center gap-2",children:[e.jsx(O,{size:16}),"View Calendar"]})]},s.id)),((i=a.campaigns)==null?void 0:i.length)===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground border border-dashed rounded-lg",children:"No campaigns yet. Create one to get started."})]})]}),e.jsx(z,{clientId:r,isOpen:c,onClose:()=>n(!1)})]}):e.jsx("div",{children:"Client not found"})};export{G as default};
