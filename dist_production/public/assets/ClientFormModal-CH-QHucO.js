import{v as ce,q as de,u as me,r as f,w as E,j as e}from"./index-CYovX-18.js";import{b as ue,c as pe,o as j,u as xe,x as R,d as he,X as $,v as H,y as ge,P as U,w as q,z as S,s as t,_ as T,A as J}from"./index-DG6laMbl.js";import{B as be,I as fe}from"./ImageUpload-CZXxhHEG.js";import{F as ye}from"./FormErrorAlert-CXCprUnH.js";import{B as je}from"./building-D0HYo3ZX.js";import{T as Ne}from"./target-BoILNFZG.js";import{D as Q}from"./dollar-sign-BdeFNfPA.js";import{S as _e}from"./save-DIsemnYH.js";/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),ve=j({name:t().min(2,"Name must be at least 2 characters"),industry:t().optional(),status:T(["LEAD","ACTIVE","ON_HOLD","COMPLETED","INACTIVE"]).default("LEAD"),brand_colors:t().optional(),logo_url:t().optional(),contact_person:t().optional(),contact_number:t().optional(),company_email:t().email("Invalid email").optional().or(J("")),operating_country:t().optional(),operating_state:t().optional(),account_manager_id:t().optional().or(J("")),assigned_staff_ids:S(t()).default([]),service_engagement:S(t()).default([]),ad_accounts:S(j({id:t().optional(),platform:T(["GOOGLE","META","LINKEDIN","TIKTOK","OTHER"]).default("META"),name:t().min(1,"Account Name Required"),external_id:t().min(1,"Account ID Required"),status:T(["ACTIVE","INACTIVE"]).default("ACTIVE")})).default([]),social_links:j({website:t().optional(),facebook:t().optional(),instagram:t().optional(),linkedin:t().optional(),twitter:t().optional()}).optional(),competitor_info:S(j({name:t(),website:t().optional()})).default([]),customer_avatar:j({description:t().optional(),pain_points:t().optional()}).optional()}),Ce=["Meta Ads","Google Ads","SEO","Web Development","Graphic Design","Video Production","Video Editing","AI Video Making","Motion Graphics","Branding & Logo Design"],Ae=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo (Congo-Brazzaville)","Costa Rica","Croatia","Cuba","Cyprus","Czechia (Czech Republic)","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini (fmr. 'Swaziland')","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Holy See","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar (formerly Burma)","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine State","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States of America","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],Se=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry"],Le=({isOpen:y,onClose:w,clientToEdit:i,onSuccess:z})=>{const Z=de(),{user:m}=me(),[u,N]=f.useState(0),_=["core","services","team","ad_accounts","extended","strategy"],x=_[u],Y={core:["name","industry","status","brand_colors","logo_url","contact_person","contact_number","company_email","operating_country","operating_state"],services:["service_engagement"],team:["account_manager_id","assigned_staff_ids"],ad_accounts:["ad_accounts"],extended:["social_links","customer_avatar"],strategy:["competitor_info"]},{register:n,control:k,handleSubmit:X,reset:v,watch:d,setValue:I,trigger:ee,formState:{errors:l,isSubmitting:D}}=ue({resolver:pe(ve),mode:"onChange",defaultValues:{name:"",status:"LEAD",service_engagement:[],assigned_staff_ids:[],ad_accounts:[],competitor_info:[],social_links:{},operating_country:"",operating_state:""}}),ae=async()=>{const a=Y[x];await ee(a)?u<_.length-1&&N(r=>r+1):Object.keys(l).length>0&&(alert("Please complete all required fields in this step before proceeding."),console.log("Step validation failed",l))},se=()=>{u>0&&N(a=>a-1)},[L,P]=f.useState(!1),[M,te]=f.useState(""),{data:o}=xe({queryKey:["staff"],queryFn:async()=>(await E.get("/team/staff")).data,enabled:!!y}),{fields:B,append:ne,remove:re}=R({control:k,name:"competitor_info"}),{fields:G,append:V,remove:ie}=R({control:k,name:"ad_accounts"});f.useEffect(()=>{var a;v(i?{name:i.name,industry:i.industry||"",status:i.status,logo_url:i.logo_url||"",contact_person:i.contact_person||"",contact_number:i.contact_number||"",company_email:i.company_email||"",operating_country:i.operating_country||"",operating_state:i.operating_state||"",account_manager_id:i.account_manager_id||"",assigned_staff_ids:((a=i.assigned_staff)==null?void 0:a.map(s=>s.id))||[],ad_accounts:i.ad_accounts||[],service_engagement:C(i.service_engagement,[]),social_links:C(i.social_links,{}),competitor_info:C(i.competitor_info,[]),customer_avatar:C(i.customer_avatar,{description:"",pain_points:""})}:{name:"",status:"LEAD",service_engagement:[],assigned_staff_ids:[],ad_accounts:[],competitor_info:[],social_links:{},customer_avatar:{description:"",pain_points:""}})},[i,v,y]);const C=(a,s)=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return s}return a||s},le=he({mutationFn:async a=>i?await E.patch(`/clients/${i.id}`,a):await E.post("/clients",a),onSuccess:a=>{Z.invalidateQueries({queryKey:["clients"]}),z&&z(a.data),w(),v(),N(0)},onError:a=>{var s,r;console.error("Mutation Error:",a),alert("Failed: "+(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||a.message))}}),O=d("operating_country");f.useEffect(()=>{O!=="India"&&I("operating_state","")},[O,I]),f.useEffect(()=>{y&&N(0)},[y]);const g=({id:a,label:s,icon:r,index:c})=>{const h=c===u,p=c<u;return e.jsxs("button",{type:"button",className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${h?"border-primary text-primary":p?"border-green-500 text-green-600":"border-transparent text-gray-400"}`,disabled:!0,children:[e.jsx(r,{size:16}),s,p&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 ml-1"})]})},oe=a=>{const s={...a,account_manager_id:a.account_manager_id||void 0,logo_url:a.logo_url||void 0,industry:a.industry||void 0,contact_person:a.contact_person||void 0,contact_number:a.contact_number||void 0,company_email:a.company_email||void 0};le.mutate(s)};return y?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i?"Edit Client":"Add New Client"}),e.jsx("button",{onClick:w,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx($,{size:20,className:"text-gray-500"})})]}),e.jsxs("div",{className:"flex border-b px-4 overflow-x-auto bg-gray-50/50",children:[e.jsx(g,{id:"core",label:"Core Info",icon:je,index:0}),e.jsx(g,{id:"services",label:"Services",icon:Ne,index:1}),e.jsx(g,{id:"team",label:"Team",icon:H,index:2}),e.jsx(g,{id:"ad_accounts",label:"Ad Accounts",icon:Q,index:3}),e.jsx(g,{id:"extended",label:"Extended",icon:be,index:4}),e.jsx(g,{id:"strategy",label:"Strategy",icon:W,index:5})]}),e.jsxs("form",{className:"flex-1 overflow-y-auto p-6",children:[x==="core"&&e.jsx("div",{className:"space-y-6 animate-in fade-in",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Company Name *"}),e.jsx("input",{...n("name"),className:`input ${l.name?"border-red-500":""}`,placeholder:"Acme Corp",autoFocus:!0}),l.name&&e.jsx("p",{className:"error",children:l.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Industry"}),e.jsx("input",{...n("industry"),className:"input",placeholder:"Software, Retail, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Status"}),e.jsxs("select",{...n("status"),className:"input",children:[e.jsx("option",{value:"LEAD",children:"Lead"}),e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"ON_HOLD",children:"On Hold"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"label",children:"Client Logo"}),e.jsx(ge,{control:k,name:"logo_url",render:({field:a})=>e.jsx(fe,{label:"",value:a.value,onChange:a.onChange})}),l.logo_url&&e.jsx("p",{className:"error",children:l.logo_url.message})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 border-b pb-2",children:"Primary Contact"}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Contact Person"}),e.jsx("input",{...n("contact_person"),className:"input",placeholder:"Full Name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Email Address"}),e.jsx("input",{...n("company_email"),className:`input ${l.company_email?"border-red-500":""}`,placeholder:"email@company.com"}),l.company_email&&e.jsx("p",{className:"error",children:l.company_email.message})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"label",children:"Mobile Number"}),e.jsx("input",{...n("contact_number"),className:"input",placeholder:"+1 234..."})]})}),e.jsx("h4",{className:"font-medium text-gray-900 border-b pb-2 mt-2",children:"Operating Location"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"label",children:"Country"}),e.jsxs("select",{...n("operating_country"),className:"input",children:[e.jsx("option",{value:"",children:"Select Country..."}),Ae.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),d("operating_country")==="India"&&e.jsxs("div",{className:"space-y-2 animate-in fade-in",children:[e.jsx("label",{className:"label",children:"State"}),e.jsxs("select",{...n("operating_state"),className:"input",children:[e.jsx("option",{value:"",children:"Select State..."}),Se.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]})]})]})}),x==="services"&&e.jsx("div",{className:"space-y-6 animate-in fade-in",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Service Engagement"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Ce.map(a=>e.jsxs("label",{className:`flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-colors ${d("service_engagement").includes(a)?"bg-primary/5 border-primary":"hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",value:a,...n("service_engagement"),className:"w-4 h-4 rounded text-primary focus:ring-primary accent-primary"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:a})]},a))})]})}),x==="team"&&e.jsxs("div",{className:"space-y-6 animate-in fade-in max-w-2xl pb-64",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Account Manager (Lead)"}),e.jsxs("select",{...n("account_manager_id"),className:`input ${l.account_manager_id?"border-red-500":""}`,children:[e.jsx("option",{value:"",children:"Select Manager..."}),o==null?void 0:o.sort((a,s)=>{var r,c;return(c=a.user)==null?void 0:c.full_name.localeCompare((r=s.user)==null?void 0:r.full_name)}).filter(a=>a.department==="MANAGEMENT"&&a.payroll_status==="ACTIVE").map(a=>{var s,r;return e.jsxs("option",{value:a.user_id,children:[(s=a.user)==null?void 0:s.full_name," (",(r=a.user)==null?void 0:r.role,")"]},a.id)})]}),l.account_manager_id&&e.jsx("p",{className:"error",children:l.account_manager_id.message}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Responsible for overall client relationship."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Assigned Staff (Execution Team)"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",className:"input text-left flex justify-between items-center bg-white min-h-[42px]",onClick:()=>P(!L),disabled:(m==null?void 0:m.role)!=="ADMIN",children:[e.jsx("span",{className:"text-sm truncate",children:d("assigned_staff_ids").length===0?e.jsx("span",{className:"text-gray-400",children:"Select execution team..."}):`${d("assigned_staff_ids").length} Member${d("assigned_staff_ids").length>1?"s":""} Selected`}),e.jsx(H,{size:16,className:"text-gray-400 flex-shrink-0"})]}),L&&(m==null?void 0:m.role)==="ADMIN"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>P(!1)}),e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border rounded-md shadow-lg z-20 max-h-60 overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-100",children:[e.jsx("div",{className:"p-2 border-b bg-gray-50",children:e.jsx("input",{type:"text",placeholder:"Search by name or dept...",className:"w-full text-xs p-2 border rounded focus:outline-none focus:border-primary",value:M,onChange:a=>te(a.target.value),autoFocus:!0})}),e.jsxs("div",{className:"overflow-y-auto p-1 max-h-48",children:[o==null?void 0:o.filter(a=>a.user&&a.payroll_status==="ACTIVE").filter(a=>a.user.full_name.toLowerCase().includes(M.toLowerCase())||a.department.toLowerCase().includes(M.toLowerCase())).map(a=>{var r;const s=d("assigned_staff_ids").includes(a.user_id);return e.jsxs("label",{className:`flex items-center gap-2 px-2 py-2 cursor-pointer hover:bg-gray-50 rounded text-sm group ${s?"bg-blue-50":""}`,children:[e.jsx("input",{type:"checkbox",value:a.user_id,...n("assigned_staff_ids"),className:"w-4 h-4 rounded text-primary focus:ring-primary accent-primary"}),e.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[e.jsx("span",{className:`font-medium ${s?"text-primary":"text-gray-700"}`,children:(r=a.user)==null?void 0:r.full_name}),e.jsx("span",{className:"text-[10px] uppercase bg-gray-100 px-1.5 py-0.5 rounded text-gray-500",children:a.department})]})]},a.id)}),(o==null?void 0:o.length)===0&&e.jsx("p",{className:"text-xs text-center p-4 text-gray-400",children:"No staff found."})]})]})]})]}),d("assigned_staff_ids").length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3 p-2 bg-gray-50/50 rounded-md border border-dashed",children:d("assigned_staff_ids").map(a=>{var r,c,h,p;const s=o==null?void 0:o.find(b=>b.user_id===a);return s?e.jsxs("span",{className:"inline-flex items-center gap-1.5 bg-white border px-2 py-1 rounded-full text-xs shadow-sm group hover:border-red-200 hover:bg-red-50 transition-colors",children:[(r=s.user)!=null&&r.avatar_url?e.jsx("img",{src:s.user.avatar_url,className:"w-4 h-4 rounded-full object-cover"}):e.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-100 flex items-center justify-center text-[8px] font-bold text-gray-600",children:(h=(c=s.user)==null?void 0:c.full_name)==null?void 0:h.charAt(0)}),e.jsx("span",{className:"font-medium text-gray-700 group-hover:text-red-600",children:(p=s.user)==null?void 0:p.full_name}),(m==null?void 0:m.role)==="ADMIN"&&e.jsx("button",{type:"button",onClick:()=>{const b=d("assigned_staff_ids");I("assigned_staff_ids",b.filter(A=>A!==a))},className:"ml-1 text-gray-400 hover:text-red-500 rounded-full p-0.5",children:e.jsx($,{size:12})})]},a):null})}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"These users will see task suggestions for this client."})]})]}),x==="ad_accounts"&&e.jsxs("div",{className:"animate-in fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Linked Ad Accounts"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Connect client ad accounts for Campaign Manager syncing."})]}),e.jsxs("button",{type:"button",onClick:()=>V({platform:"META",name:"",external_id:"",status:"ACTIVE"}),className:"text-sm bg-primary/10 text-primary px-3 py-1.5 rounded-md flex items-center gap-1 hover:bg-primary/20 transition-colors",children:[e.jsx(U,{size:14})," Add Account"]})]}),e.jsxs("div",{className:"space-y-3",children:[G.map((a,s)=>{var r,c,h,p,b,A,F,K;return e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start bg-gray-50 p-3 rounded-md border border-gray-100 animate-in slide-in-from-bottom-2",children:[e.jsxs("div",{className:"w-full md:w-32",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 mb-1 block",children:"Platform"}),e.jsxs("select",{...n(`ad_accounts.${s}.platform`),className:"input text-sm py-1.5",children:[e.jsx("option",{value:"META",children:"Meta (FB)"}),e.jsx("option",{value:"GOOGLE",children:"Google Ads"}),e.jsx("option",{value:"LINKEDIN",children:"LinkedIn"}),e.jsx("option",{value:"TIKTOK",children:"TikTok"}),e.jsx("option",{value:"OTHER",children:"Other"})]})]}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 mb-1 block",children:"Account Name"}),e.jsx("input",{...n(`ad_accounts.${s}.name`),className:"input text-sm py-1.5",placeholder:"e.g. Qix Ads - Q1"}),((c=(r=l.ad_accounts)==null?void 0:r[s])==null?void 0:c.name)&&e.jsx("p",{className:"error",children:(p=(h=l.ad_accounts[s])==null?void 0:h.name)==null?void 0:p.message})]}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 mb-1 block",children:"Account ID"}),e.jsx("input",{...n(`ad_accounts.${s}.external_id`),className:"input text-sm py-1.5 font-mono",placeholder:"e.g. act_123456789"}),((A=(b=l.ad_accounts)==null?void 0:b[s])==null?void 0:A.external_id)&&e.jsx("p",{className:"error",children:(K=(F=l.ad_accounts[s])==null?void 0:F.external_id)==null?void 0:K.message})]}),e.jsx("div",{className:"w-full md:w-auto flex justify-end mt-4 md:mt-0",children:e.jsx("button",{type:"button",onClick:()=>ie(s),className:"text-red-500 hover:text-red-700 p-2 bg-white rounded border border-gray-200 hover:bg-red-50 transition-colors",title:"Remove Account",children:e.jsx(q,{size:16})})})]},a.id)}),G.length===0&&e.jsxs("div",{className:"p-8 text-center border-2 border-dashed border-gray-200 rounded-lg",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-3 text-gray-300",children:e.jsx(Q,{size:24})}),e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"No ad accounts linked."}),e.jsx("button",{type:"button",onClick:()=>V({platform:"META",name:"",external_id:"",status:"ACTIVE"}),className:"text-xs text-primary hover:underline font-medium",children:"Click to add one"})]})]})]}),x==="extended"&&e.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium border-b pb-2",children:"Social Presence"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"label",children:"Website"}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{size:16,className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{...n("social_links.website"),className:"input pl-9",placeholder:"https://"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"label",children:"Facebook"}),e.jsx("input",{...n("social_links.facebook"),className:"input",placeholder:"https://facebook.com/..."})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"label",children:"Instagram"}),e.jsx("input",{...n("social_links.instagram"),className:"input",placeholder:"https://instagram.com/..."})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"label",children:"LinkedIn"}),e.jsx("input",{...n("social_links.linkedin"),className:"input",placeholder:"https://linkedin.com/..."})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium border-b pb-2",children:"Customer Avatar"}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Description / Demographics"}),e.jsx("textarea",{...n("customer_avatar.description"),className:"input min-h-[80px]",placeholder:"Who is the ideal customer?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Pain Points"}),e.jsx("textarea",{...n("customer_avatar.pain_points"),className:"input min-h-[80px]",placeholder:"What problems do they face?"})]})]})]}),x==="strategy"&&e.jsxs("div",{className:"animate-in fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"font-medium",children:"Competitor Analysis"}),e.jsxs("button",{type:"button",onClick:()=>ne({name:"",website:""}),className:"text-sm text-primary flex items-center gap-1 hover:underline",children:[e.jsx(U,{size:14})," Add Competitor"]})]}),e.jsxs("div",{className:"space-y-3",children:[B.map((a,s)=>e.jsxs("div",{className:"flex gap-3 items-start bg-gray-50 p-3 rounded-md",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{...n(`competitor_info.${s}.name`),className:"input mb-2",placeholder:"Competitor Name"}),e.jsx("input",{...n(`competitor_info.${s}.website`),className:"input",placeholder:"Competitor Website"})]}),e.jsx("button",{type:"button",onClick:()=>re(s),className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(q,{size:16})})]},a.id)),B.length===0&&e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No competitors added."})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[u>0&&e.jsx("button",{type:"button",onClick:se,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:"Back"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Step ",u+1," of ",_.length]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),u<_.length-1?e.jsx("button",{type:"button",onClick:ae,className:"px-6 py-2 text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90 rounded-md shadow-sm transition-colors",children:"Next"}):e.jsxs("button",{onClick:X(oe,a=>{console.error("Form Validation Errors:",a)}),disabled:D,className:"flex items-center gap-2 px-6 py-2 text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90 rounded-md disabled:opacity-50 shadow-sm animate-in fade-in",children:[e.jsx(_e,{size:16}),D?"Saving...":"Save and Close"]})]}),e.jsx("div",{className:"w-full max-w-md",children:e.jsx(ye,{errors:l})})]})]})]}),e.jsx("style",{children:`
                .label { display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 0.25rem; }
                .input { width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #d1d5db; border-radius: 0.375rem; font-size: 0.875rem; }
                .input:focus { outline: none; border-color: #3b82f6; ring: 2px solid #93c5fd; }
                .error { font-size: 0.75rem; color: #ef4444; margin-top: 0.25rem; }
            `})]}):null};export{Le as C,W as G};
