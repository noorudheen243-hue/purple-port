import{j as e,w as o,u as h,r as c}from"./index-CYovX-18.js";import{u as i,T as b,C as p,a as f}from"./index-DG6laMbl.js";import{C as j}from"./clock-CqPd1juV.js";import{R as x,P as N,a as v,C as y,T as m,L as w}from"./PieChart-QRe6Un3s.js";import{B as k,C,X as D,Y as E,a as u}from"./BarChart-Cl8ChPxi.js";const T=()=>{var t;const{data:s,isLoading:d}=i({queryKey:["dashboard-stats"],queryFn:async()=>{const{data:r}=await o.get("/analytics/dashboard");return r}});return d?e.jsx("div",{children:"Loading dashboard..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"p-6 bg-card rounded-lg border border-border shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 text-blue-700 rounded-full",children:e.jsx(b,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Active Campaigns"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:(s==null?void 0:s.activeCampaigns)||0})]})]}),e.jsxs("div",{className:"p-6 bg-card rounded-lg border border-border shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-700 rounded-full",children:e.jsx(j,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Pending Reviews"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:(s==null?void 0:s.pendingReviews)||0})]})]}),e.jsxs("div",{className:"p-6 bg-card rounded-lg border border-border shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-100 text-green-700 rounded-full",children:e.jsx(p,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"This Month's Budget"}),e.jsxs("p",{className:"text-2xl font-bold mt-1",children:["$",((t=s==null?void 0:s.monthlyBudget)==null?void 0:t.toLocaleString())||0]})]})]}),e.jsxs("div",{className:"p-6 bg-card rounded-lg border border-border shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-purple-100 text-purple-700 rounded-full",children:e.jsx(f,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Tasks Completed"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:(s==null?void 0:s.completedTasksThisMonth)||0})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.jsxs("div",{className:"p-6 bg-card rounded-lg border border-border shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{className:"w-full p-3 text-left border border-dashed border-border rounded-md hover:bg-accent transition-colors text-sm font-medium",children:"+ Create New Campaign"}),e.jsx("button",{className:"w-full p-3 text-left border border-dashed border-border rounded-md hover:bg-accent transition-colors text-sm font-medium",children:"+ Assign Task"})]})]})})]})},R=()=>e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:["To Do","In Progress","Review","Done"].map(s=>e.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg min-h-[500px]",children:[e.jsx("h3",{className:"font-semibold mb-4 text-sm text-muted-foreground uppercase tracking-wider",children:s}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"p-4 bg-card border border-border rounded shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-blue-500/10 text-blue-500 font-medium",children:"Graphic"}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Oct 24"})]}),e.jsx("p",{className:"text-sm font-medium",children:"Hero Banner Design"}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"id: #1234"}),e.jsx("div",{className:"w-5 h-5 rounded-full bg-slate-500/20"})]})]})})]},s))})}),A=()=>{const[s,d]=c.useState(new Date);return c.useEffect(()=>{const t=setInterval(()=>d(new Date),1e3);return()=>clearInterval(t)},[]),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xl md:text-2xl font-bold uppercase tracking-wide text-foreground",children:s.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("h2",{className:"text-lg font-medium font-mono tracking-widest text-primary/80",children:s.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})})]})},S=()=>{const[s,d]=c.useState(document.documentElement.classList.contains("dark"));return c.useEffect(()=>{const t=new MutationObserver(r=>{r.forEach(n=>{n.attributeName==="class"&&d(document.documentElement.classList.contains("dark"))})});return t.observe(document.documentElement,{attributes:!0}),()=>t.disconnect()},[]),s},I=()=>{const{user:s}=h(),d=S(),t=d?"#e2e8f0":"#64748b",{data:r}=i({queryKey:["creative-metrics"],queryFn:async()=>(await o.get("/analytics/creative-metrics")).data}),{data:n}=i({queryKey:["attendance-stats"],queryFn:async()=>(await o.get("/analytics/attendance")).data}),{data:l}=i({queryKey:["team-performance"],queryFn:async()=>(await o.get("/analytics/team-performance")).data});return e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 py-4 border-b",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-foreground",children:"Overview"}),e.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",s==null?void 0:s.full_name]})]}),e.jsx("div",{className:"flex items-center gap-6",children:e.jsx(A,{})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n==null?void 0:n.map(a=>e.jsxs("div",{className:`p-6 rounded-xl shadow-sm hover:shadow-md transition-all ${a.styles.card}`,children:[e.jsx("h3",{className:`text-xs font-bold uppercase tracking-wider mb-2 ${a.styles.label}`,children:a.department}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("span",{className:`text-4xl font-extrabold ${a.styles.value}`,children:a.count}),e.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm ${a.styles.text}`,children:"Present"})]})]},a.department))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 rounded-xl bg-purple-50 dark:bg-purple-900/10 border border-purple-100 dark:border-purple-900/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Total Assigned"}),e.jsx("p",{className:"text-4xl font-bold mt-2 text-purple-900 dark:text-purple-100",children:(r==null?void 0:r.total)||0})]}),e.jsxs("div",{className:"p-6 rounded-xl bg-green-50 dark:bg-green-900/10 border border-green-100 dark:border-green-900/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Completed"}),e.jsx("p",{className:"text-4xl font-bold mt-2 text-green-900 dark:text-green-100",children:(r==null?void 0:r.completed)||0})]}),e.jsxs("div",{className:"p-6 rounded-xl bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"In Progress"}),e.jsx("p",{className:"text-4xl font-bold mt-2 text-blue-900 dark:text-blue-100",children:(r==null?void 0:r.wip)||0})]}),e.jsxs("div",{className:"p-6 rounded-xl bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-100 dark:border-yellow-900/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-yellow-700 dark:text-yellow-300",children:"Pending Review"}),e.jsx("p",{className:"text-4xl font-bold mt-2 text-yellow-900 dark:text-yellow-100",children:(r==null?void 0:r.review)||0})]})]}),e.jsxs("div",{className:"p-6 bg-card rounded-xl border border-border shadow-sm flex flex-col items-center justify-center",children:[e.jsx("h3",{className:"text-sm font-bold text-muted-foreground w-full text-left mb-4",children:"Task Status Distribution"}),e.jsx("div",{className:"w-full h-[250px]",children:e.jsx(x,{width:"100%",height:"100%",children:e.jsxs(N,{children:[e.jsx(v,{data:(r==null?void 0:r.pieChartData)||[],cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:((r==null?void 0:r.pieChartData)||[]).map((a,g)=>e.jsx(y,{fill:a.fill},`cell-${g}`))}),e.jsx(m,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),e.jsx(w,{verticalAlign:"bottom",height:36})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 bg-card rounded-xl border border-border shadow-sm h-[450px] flex flex-col",children:[e.jsx("h4",{className:"text-lg font-bold mb-6",children:"Task Distribution by Member"}),e.jsx("div",{className:"flex-1 w-full",children:l&&l.length>0?e.jsx(x,{width:"100%",height:"100%",children:e.jsxs(k,{data:l,margin:{top:20,right:30,left:0,bottom:5},layout:"vertical",children:[e.jsx(C,{strokeDasharray:"3 3",horizontal:!1,stroke:d?"rgba(255,255,255,0.1)":"var(--border)"}),e.jsx(D,{type:"number",hide:!0}),e.jsx(E,{dataKey:"name",type:"category",width:100,tick:{fill:t,fontSize:13},interval:0}),e.jsx(m,{cursor:{fill:"var(--accent)",opacity:.1},contentStyle:{backgroundColor:"var(--card)",borderRadius:"8px",border:"1px solid var(--border)",color:"var(--foreground)"}}),e.jsx(u,{dataKey:"completedTasks",name:"Completed",stackId:"a",fill:"#10b981",radius:[0,4,4,0],barSize:20}),e.jsx(u,{dataKey:"pendingTasks",name:"Pending",stackId:"a",fill:"#f59e0b",radius:[0,4,4,0],barSize:20})]})}):e.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No performance data available"})})]}),e.jsxs("div",{className:"p-6 bg-card rounded-xl border border-border shadow-sm h-[450px] overflow-auto custom-scrollbar",children:[e.jsx("h4",{className:"text-lg font-bold mb-6",children:"Creative Team Efficiency"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l==null?void 0:l.map(a=>e.jsxs("div",{className:"flex flex-col items-center p-4 bg-secondary/50 rounded-xl border border-border/50 hover:bg-secondary transition-colors",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-xl mb-3 overflow-hidden ring-2 ring-background",children:a.avatar?e.jsx("img",{src:a.avatar.startsWith("http")?a.avatar:`${"http://72.61.246.22:4001/api".replace("/api","")||"http://localhost:4001"}${a.avatar}`,alt:a.name,className:"w-full h-full object-cover"}):a.name.charAt(0)}),e.jsx("h5",{className:"font-semibold text-foreground text-center",children:a.name}),e.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-3",children:a.role.replace(/_/g," ").replace("CREATIVE ","")}),e.jsx("div",{className:"w-full h-2 bg-muted rounded-full overflow-hidden mb-1",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${a.efficiency}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-primary",children:[a.efficiency,"% Efficiency"]})]},a.id))}),(!l||l.length===0)&&e.jsx("p",{className:"text-center text-muted-foreground py-12",children:"No data available."})]})]})]})},z=()=>{const{user:s}=h();switch(s==null?void 0:s.role){case"ADMIN":case"MANAGER":return e.jsx(I,{});case"MARKETING_EXEC":return e.jsx(T,{});case"DESIGNER":case"WEB_SEO":return e.jsx(R,{});default:return e.jsx("div",{children:"Unknown Role"})}};export{z as default};
