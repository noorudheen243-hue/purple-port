import{v as g,j as e,E as j,w as p}from"./index-CYovX-18.js";import{u}from"./index-DG6laMbl.js";import{A as b}from"./alert-circle-V7EQjuNI.js";import{C as v}from"./check-circle-Crge6kva.js";import{R as c,P as y,a as f,C as N,T as x,L as w}from"./PieChart-QRe6Un3s.js";import{B as C,C as R,X as k,Y as E,a as T}from"./BarChart-Cl8ChPxi.js";/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=g("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),h=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],M=()=>{const{data:s,isLoading:m}=u({queryKey:["tasks","all"],queryFn:async()=>(await p.get("/tasks")).data});if(m)return e.jsx("div",{className:"p-8",children:"Loading Dashboard..."});const r=(s==null?void 0:s.length)||0,t=(s==null?void 0:s.filter(a=>a.status==="COMPLETED").length)||0,d=(s==null?void 0:s.filter(a=>a.status==="IN_PROGRESS").length)||0,l=(s==null?void 0:s.filter(a=>a.status==="OVERDUE"||a.sla_status==="BREACHED").length)||0,i=(s==null?void 0:s.filter(a=>a.nature==="REWORK").length)||0,n=[{name:"Completed",value:t},{name:"In Progress",value:d},{name:"Overdue",value:l},{name:"Planned",value:r-t-d-l}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Task Overview (Admin/Manager)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-lg",children:e.jsx(L,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Tasks"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-lg",children:e.jsx(j,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Rework Tasks"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:i})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-lg",children:e.jsx(b,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Rework Rate"}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[r>0?(i/r*100).toFixed(1):0,"%"]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-lg",children:e.jsx(v,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Task Status Distribution"}),e.jsx("div",{className:"h-64",children:e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(y,{children:[e.jsx(f,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:n.map((a,o)=>e.jsx(N,{fill:h[o%h.length]},`cell-${o}`))}),e.jsx(x,{}),e.jsx(w,{})]})})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Department Load (Mock)"}),e.jsx("div",{className:"h-64",children:e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(C,{data:[{name:"Creative",tasks:12},{name:"Marketing",tasks:19},{name:"Web",tasks:8},{name:"Admin",tasks:24}],children:[e.jsx(R,{strokeDasharray:"3 3"}),e.jsx(k,{dataKey:"name"}),e.jsx(E,{}),e.jsx(x,{}),e.jsx(T,{dataKey:"tasks",fill:"#8884d8"})]})})})]})]})]})};export{M as default};
