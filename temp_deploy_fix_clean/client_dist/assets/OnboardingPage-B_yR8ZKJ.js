import{v as $,a as X,q as Y,r as c,C as Q,K as J,x as j,j as e}from"./index-_K9dBzXA.js";import{a1 as Z,a4 as ee,u as se,i as ae,g as re,ag as f,F as te,A as le,s as ie,_ as O,a6 as M,S as T,a7 as t,aK as ne,am as oe,ap as de}from"./index-C0_MxDCy.js";import{B as R,I as ce}from"./ImageUpload-DRrfqLP6.js";import{F as me}from"./FormErrorAlert-DtE7FnRK.js";import{G as pe,Z as k}from"./compat-BdhRJLCk.js";import{P as xe}from"./pen-CBlSZq_l.js";import{A as ue}from"./arrow-left-BHYpOO8o.js";import{S as he}from"./save-BPR9f-BE.js";import{C as ge}from"./check-circle-DX-ak2PV.js";import"./loader-2-m9uN2hHg.js";import"./alert-circle-Dgl9YWib.js";/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=$("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),B=["CO-FOUNDER","Creative Director","Art Director","Senior Graphic Designer","Graphic Designer","Copywriter","Content Strategist","Social Media Manager","Social Media Executive","SEO Specialist","Web Developer","Account Director","Account Manager","Client Servicing Executive","Media Planner","Media Buyer","Operations Manager","HR Manager","Office Administrator","Intern"],F=[{id:1,label:"Profile & Contact",icon:re},{id:2,label:"Role & Department",icon:R},{id:3,label:"Payroll & Bank",icon:f},{id:4,label:"Documents & Review",icon:te}],je=M({full_name:t().min(1,"Name is required"),email:t().email().optional().or(de("")),avatar_url:t().optional(),personal_contact:t().optional(),whatsapp_number:t().optional(),date_of_birth:t().optional(),gender:t().optional().nullable(),blood_group:t().optional().nullable(),current_address:t().optional().nullable(),permanent_address:t().optional().nullable(),staff_number:t().optional(),designation:t().optional(),custom_designation:t().optional(),department:t().optional(),date_of_joining:t().optional(),reporting_manager_id:t().optional(),base_salary:ne().optional(),salary_type:t().optional(),payment_method:t().optional(),bank_name:t().optional(),account_number:t().optional(),ifsc_code:t().optional(),pan_number:t().optional(),aadhar_number:t().optional(),ledger_options:M({create:oe(),head_id:t().optional()}).optional(),resume_url:t().optional(),id_proof_url:t().optional(),password:t().optional(),confirm_password:t().optional(),role:t().optional()}).superRefine((m,b)=>{var n;(m.password||m.confirm_password)&&m.password!==m.confirm_password&&b.addIssue({code:k.custom,message:"Passwords must match",path:["confirm_password"]}),(n=m.ledger_options)!=null&&n.create&&!m.ledger_options.head_id&&b.addIssue({code:k.custom,message:"Account Head is required to link ledger",path:["ledger_options","head_id"]})}),Me=()=>{const m=X(),b=Y(),[n,y]=c.useState(1),z={enter:s=>({x:s>0?50:-50,opacity:0}),center:{x:0,opacity:1},exit:s=>({x:s<0?50:-50,opacity:0})},[w,v]=c.useState(0),{register:l,handleSubmit:L,watch:p,setValue:i,trigger:be,setError:G,getValues:U,formState:{errors:r}}=Z({resolver:ee(je),mode:"onChange",defaultValues:{salary_type:"MONTHLY",department:"MARKETING",staff_number:"",designation:"",ledger_options:{create:!0,head_id:""}}}),d=p(),[N,S]=c.useState(""),{data:u}=se({queryKey:["accountHeads"],queryFn:async()=>(await j.get("/accounting/heads")).data}),_=p("ledger_options.head_id");c.useEffect(()=>{if(_&&u){const s=u.find(a=>a.id===_);s&&S(s.type)}},[_,u]);const H=()=>{v(1),y(s=>Math.min(s+1,4))},q=async()=>{if(console.log("Partial Save Triggered for Step:",n),A.current=!0,n===3){const s=p("ledger_options");if(s!=null&&s.create&&!s.head_id){G("ledger_options.head_id",{type:"custom",message:"Account Head is required"});return}}E.mutate(U())},V=()=>{v(-1),y(s=>Math.max(s-1,1))},A=Q.useRef(!1),E=ae({mutationFn:async s=>{const a=s.designation==="Other"?s.custom_designation:s.designation;if(!a)throw new Error("Designation is required");const o={...s,designation:a,confirm_password:void 0,custom_designation:void 0};return x?await j.patch(`/team/staff/${h}`,o):await j.post("/team/staff/onboard",o)},onSuccess:async()=>{await b.refetchQueries({queryKey:["staff"]}),A.current?T.fire({title:"Saved!",text:"Changes saved. You can continue editing.",icon:"success",confirmButtonText:"OK",confirmButtonColor:"#8b5cf6",customClass:{popup:"rounded-xl shadow-xl border border-gray-100",title:"text-xl font-bold text-gray-800",htmlContainer:"text-gray-500"}}):(await T.fire({title:"Success!",text:x?"Staff Profile Updated Successfully!":"Staff Onboarded Successfully!",icon:"success",confirmButtonText:"Great!",confirmButtonColor:"#10b981"}),m("/dashboard/team"))},onError:s=>{var o,D,I,P;console.error("Submission Error:",s);const a=((D=(o=s.response)==null?void 0:o.data)==null?void 0:D.message)||s.message||"Operation Failed";(P=(I=s.response)==null?void 0:I.data)!=null&&P.errors?alert(`Validation Failed:
${JSON.stringify(s.response.data.errors,null,2)}`):alert(typeof a=="object"?JSON.stringify(a,null,2):a)}}),{id:h}=J(),x=!!h,[Ne,ye]=c.useState(!1),[g,C]=c.useState(!1);c.useEffect(()=>{},[h]),c.useEffect(()=>{x||j.get("/team/staff/next-id").then(s=>{s.data.nextId&&i("staff_number",s.data.nextId)}).catch(s=>console.error("Failed to fetch next Staff ID:",s))},[x,i]),c.useEffect(()=>{h&&j.get(`/team/staff/${h}`).then(s=>{const a=s.data;a.designation&&!B.includes(a.designation)?(i("custom_designation",a.designation),i("designation","Other")):i("designation",a.designation),Object.keys(a).forEach(o=>{o==="date_of_birth"||o==="date_of_joining"?a[o]&&i(o,new Date(a[o]).toISOString().split("T")[0]):i(o,a[o])}),a.department&&i("department",a.department),a.user&&(i("full_name",a.user.full_name),i("email",a.user.email),i("role",a.user.role),i("avatar_url",a.user.avatar_url)),a.ledger_options&&(i("ledger_options",a.ledger_options),i("ledger_options.create",a.ledger_options.create),i("ledger_options.head_id",a.ledger_options.head_id),a.ledger_options.create&&C(!0))}).catch(s=>console.error("Failed to fetch staff details",s))},[h,i]);const K=x?"Edit Team Member":"Onboard New Team Member",W=x?"Update profile details and role permissions.":"Complete the 4-step process to grant system access.";return e.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:K}),e.jsx("p",{className:"text-gray-500 mt-2",children:W})]}),e.jsxs("div",{className:"relative flex justify-between items-center w-full max-w-3xl mx-auto mb-12",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-gray-200 -z-10 -translate-y-1/2 rounded-full"}),e.jsx("div",{className:"absolute top-1/2 left-0 h-1 bg-primary -z-10 -translate-y-1/2 rounded-full transition-all duration-500",style:{width:`${(n-1)/(F.length-1)*100}%`}}),F.map(s=>{const a=n>=s.id,o=n===s.id;return e.jsxs("button",{type:"button",onClick:()=>{v(s.id>n?1:-1),y(s.id)},className:"flex flex-col items-center gap-2 bg-white px-2 cursor-pointer hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300 ${a?"bg-primary border-primary text-primary-foreground":"bg-white border-gray-300 text-gray-400"} ${o?"ring-4 ring-primary/20 scale-110":""}`,children:e.jsx(s.icon,{size:18})}),e.jsx("span",{className:`text-xs font-semibold whitespace-nowrap ${a?"text-primary":"text-gray-400"}`,children:s.label})]},s.id)})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-8 min-h-[500px] flex flex-col",children:[e.jsx("div",{className:"flex-1 overflow-x-hidden",children:e.jsx(le,{mode:"wait",custom:w,children:e.jsxs(ie.div,{custom:w,variants:z,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3,ease:"easeInOut"},className:"h-full",children:[n===1&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"col-span-1 space-y-4 text-center p-6 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Profile Photo"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(ce,{value:p("avatar_url"),onChange:s=>i("avatar_url",s)})})]}),e.jsxs("div",{className:"col-span-1 lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"label",children:["Full Legal Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...l("full_name"),className:"input-field",placeholder:"As per Id Proof"}),r.full_name&&e.jsx("span",{className:"error",children:r.full_name.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:["Personal Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...l("email"),className:"input-field",placeholder:"For login & contact"}),r.email&&e.jsx("span",{className:"error",children:r.email.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",...l("date_of_birth"),className:"input-field"}),r.date_of_birth&&e.jsx("span",{className:"error",children:r.date_of_birth.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...l("personal_contact"),className:"input-field",placeholder:"+91..."}),r.personal_contact&&e.jsx("span",{className:"error",children:r.personal_contact.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Blood Group"}),e.jsxs("select",{...l("blood_group"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"O-",children:"O-"}),e.jsx("option",{value:"AB-",children:"AB-"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"label",children:"Permanent Address"}),e.jsx("textarea",{...l("permanent_address"),className:"input-field",rows:2,placeholder:"Full permanent address"}),r.permanent_address&&e.jsx("span",{className:"error",children:r.permanent_address.message})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("label",{className:"label mb-0",children:"Current Address"}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded text-primary focus:ring-primary",onChange:s=>{if(s.target.checked){const a=p("permanent_address");i("current_address",a,{shouldDirty:!0})}else i("current_address","",{shouldDirty:!0})}}),e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Same as Permanent Address"})]})]}),e.jsx("textarea",{...l("current_address"),className:"input-field",rows:2,placeholder:"Full residential address"}),r.current_address&&e.jsx("span",{className:"error",children:r.current_address.message})]})]})]}),n===2&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-3xl mx-auto",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:["Staff ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...l("staff_number"),className:"input-field font-mono uppercase",placeholder:"e.g. QIX-001"}),r.staff_number&&e.jsx("span",{className:"error",children:r.staff_number.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:["Department ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...l("department"),className:"input-field",children:[e.jsx("option",{value:"MARKETING",children:"Marketing"}),e.jsx("option",{value:"CREATIVE",children:"Creative"}),e.jsx("option",{value:"WEB_SEO",children:"Web & SEO"}),e.jsx("option",{value:"MANAGEMENT",children:"Management"}),e.jsx("option",{value:"ADMIN",children:"Admin / HR"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"label",children:["Designation ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("select",{...l("designation"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select Role..."}),B.map(s=>e.jsx("option",{value:s,children:s},s)),e.jsx("option",{value:"Other",children:"Other (Custom)"})]}),p("designation")==="Other"&&e.jsx("input",{...l("custom_designation"),className:"input-field animate-in fade-in",placeholder:"Type custom designation..."})]}),r.designation&&e.jsx("span",{className:"error",children:r.designation.message})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"label",children:["System Access Role ",e.jsx("span",{className:"text-red-500",children:"*"})]}),p("role")==="DEVELOPER_ADMIN"?e.jsxs("div",{className:"relative",children:[e.jsx("input",{disabled:!0,value:"Developer Admin (Super User)",className:"input-field bg-red-50 text-red-700 font-bold border-red-200 opacity-100 cursor-not-allowed"}),e.jsx(f,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-400",size:16}),e.jsxs("p",{className:"text-xs text-red-500 mt-1 font-medium flex items-center gap-1",children:[e.jsx(f,{size:10})," This role is permanently locked to this account."]}),e.jsx("input",{type:"hidden",...l("role")})]}):e.jsxs(e.Fragment,{children:[e.jsxs("select",{...l("role"),className:"input-field bg-blue-50/50 border-blue-200",children:[e.jsx("option",{value:"",children:"Select System Permission..."}),e.jsx("option",{value:"ADMIN",children:"Admin (Full Access)"}),e.jsx("option",{value:"MANAGER",children:"Manager (Team & Clients)"}),e.jsx("option",{value:"DM_EXECUTIVE",children:"DM Executive"}),e.jsx("option",{value:"WEB_SEO_EXECUTIVE",children:"Web & SEO Executive"}),e.jsx("option",{value:"CREATIVE_DESIGNER",children:"Creative Designer"}),e.jsx("option",{value:"OPERATIONS_EXECUTIVE",children:"Operations Executive"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Determines what they can see in the dashboard."})]}),r.role&&e.jsx("span",{className:"error",children:r.role.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:["Date of Joining ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",...l("date_of_joining"),className:"input-field"}),r.date_of_joining&&e.jsx("span",{className:"error",children:r.date_of_joining.message})]})]}),n===3&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"md:col-span-2 bg-blue-50 p-4 rounded-lg border border-blue-100 mb-2",children:[e.jsxs("h3",{className:"font-semibold text-blue-900 mb-4 flex items-center gap-2",children:[e.jsx(f,{size:16})," Salary Configuration"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label text-gray-500",children:"Base Salary (Monthly)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"₹"}),e.jsx("input",{disabled:!0,className:"input-field pl-8 bg-gray-100 text-gray-400 cursor-not-allowed",value:"0 (Manage in Payroll)"}),e.jsx("input",{type:"hidden",...l("base_salary"),value:0})]}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Set in Salary Calculator after onboarding."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Type"}),e.jsxs("select",{...l("salary_type"),className:"input-field",children:[e.jsx("option",{value:"MONTHLY",children:"Monthly Salaried"}),e.jsx("option",{value:"CONTRACT",children:"Contract / Retainer"}),e.jsx("option",{value:"DAILY",children:"Daily Wage"})]})]})]})]}),e.jsxs("div",{className:"md:col-span-2 bg-purple-50 p-4 rounded-lg border border-purple-100",children:[e.jsxs("h4",{className:"font-semibold text-purple-900 mb-3 flex items-center gap-2",children:[e.jsx(pe,{size:18})," Finance Account (Ledger)"]}),e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("input",{type:"checkbox",...l("ledger_options.create"),className:"mt-1 w-4 h-4 text-purple-600 rounded border-gray-300 focus:ring-purple-500",id:"create_staff_ledger_page"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"create_staff_ledger_page",className:"font-medium text-gray-900 cursor-pointer text-sm",children:"Create/Link Ledger Account"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Track salary payable & advances automatically."})]})]}),p("ledger_options.create")&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in slide-in-from-top-2",children:[e.jsx("div",{className:"col-span-2 flex justify-end",children:g&&e.jsxs("button",{type:"button",onClick:()=>C(!1),className:"text-xs flex items-center gap-1 text-purple-600 hover:text-purple-700 bg-purple-50 px-2 py-1 rounded border border-purple-100 transition-colors",children:[e.jsx(xe,{size:12})," Edit"]})}),e.jsxs("div",{className:g?"opacity-60 pointer-events-none grayscale":"",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Filter Type"}),e.jsxs("select",{value:N,disabled:g,onChange:s=>S(s.target.value),className:"w-full border p-2 rounded text-sm bg-white",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"LIABILITY",children:"Liability"}),e.jsx("option",{value:"ASSET",children:"Asset (Advances)"}),e.jsx("option",{value:"EXPENSE",children:"Expense"}),e.jsx("option",{value:"SoW",children:"Salary & Wages"})]})]}),e.jsxs("div",{className:g?"opacity-60 pointer-events-none grayscale":"",children:[e.jsxs("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:["Select Account Head ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...l("ledger_options.head_id"),className:"w-full border p-2 rounded text-sm bg-white",disabled:g,children:[e.jsx("option",{value:"",children:"-- Select Head --"}),u==null?void 0:u.filter(s=>!N||s.type===N||N==="SoW"&&s.name.includes("Salary")).map(s=>e.jsxs("option",{value:s.id,children:[s.name," (",s.code,")"]},s.id))]}),g&&e.jsxs("p",{className:"text-[10px] text-green-600 mt-1 flex items-center gap-1",children:[e.jsx(f,{size:8})," Linked to active ledger"]})]})]}),"                                                "]}),e.jsxs("div",{className:"md:col-span-2 bg-white p-4 rounded-lg border border-gray-200 mt-2",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(R,{size:18})," Bank & Payment Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Payment Method"}),e.jsxs("select",{...l("payment_method"),className:"input-field",children:[e.jsx("option",{value:"",children:"Select Method..."}),e.jsx("option",{value:"BANK_TRANSFER",children:"Bank Transfer"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"CASH",children:"Cash"}),e.jsx("option",{value:"CHEQUE",children:"Cheque"})]}),r.payment_method&&e.jsx("span",{className:"error",children:r.payment_method.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Bank Name"}),e.jsx("input",{...l("bank_name"),className:"input-field",placeholder:"e.g. HDFC Bank"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Account Number"}),e.jsx("input",{...l("account_number"),className:"input-field",placeholder:"Account No."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"IFSC Code"}),e.jsx("input",{...l("ifsc_code"),className:"input-field uppercase",placeholder:"e.g. HDFC0001234"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"PAN Number"}),e.jsx("input",{...l("pan_number"),className:"input-field uppercase",placeholder:"e.g. ABCDE1234F"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label",children:"Aadhar Number"}),e.jsx("input",{...l("aadhar_number"),className:"input-field",placeholder:"12-digit number"}),r.aadhar_number&&e.jsx("span",{className:"error",children:r.aadhar_number.message})]})]})]})]}),n===4&&e.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-6 text-center hover:bg-gray-50 transition-colors cursor-pointer group",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3 text-gray-400 group-hover:text-primary group-hover:bg-primary/10 transition-colors",children:e.jsx(O,{size:24})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Upload Resume"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF or DOCX upto 5MB"})]}),e.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-6 text-center hover:bg-gray-50 transition-colors cursor-pointer group",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3 text-gray-400 group-hover:text-primary group-hover:bg-primary/10 transition-colors",children:e.jsx(O,{size:24})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"ID Proof (Aadhar/PAN)"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG or PDF"})]})]}),e.jsxs("div",{className:"bg-orange-50 p-6 rounded-lg border border-orange-100",children:[e.jsxs("h3",{className:"font-bold text-orange-900 mb-4 flex items-center gap-2",children:[e.jsx(f,{size:16})," Set Initial Password"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",...l("password"),className:"input-field"}),r.password&&e.jsx("span",{className:"error",children:r.password.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"label",children:["Confirm Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",...l("confirm_password"),className:"input-field"}),r.confirm_password&&e.jsx("span",{className:"error",children:r.confirm_password.message})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Review Summary"}),e.jsxs("ul",{className:"text-sm space-y-1 text-gray-600",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Name:"})," ",d.full_name]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Role:"})," ",d.designation," (",d.department,")"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Email:"})," ",d.email]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Salary:"})," ₹",d.base_salary," / ",d.salary_type]}),d.payment_method&&e.jsxs("li",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Payment:"})," ",d.payment_method]}),d.pan_number&&e.jsxs("li",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"PAN:"})," ",d.pan_number]})]})]})]})]},n)})}),e.jsxs("div",{className:"pt-6 mt-8 border-t flex justify-between items-center",children:[e.jsxs("button",{onClick:V,disabled:n===1,className:"flex items-center gap-2 px-6 py-2.5 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50 transition-colors font-medium",children:[e.jsx(ue,{size:18})," Back"]}),n<4?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:q,className:"bg-green-600 text-white px-6 py-2.5 rounded-lg flex items-center gap-2 hover:bg-green-700 transition-colors font-medium shadow-sm mr-2",children:[e.jsx(he,{size:18})," Save"]}),e.jsxs("button",{onClick:H,className:"bg-primary text-primary-foreground px-8 py-2.5 rounded-lg flex items-center gap-2 hover:bg-primary/90 transition-colors font-medium shadow-sm",children:["Next Step ",e.jsx(fe,{size:18})]})]}):e.jsxs("button",{onClick:L(s=>E.mutate(s),s=>{console.error("Validation Errors:",s)}),className:"bg-green-600 text-white px-8 py-2.5 rounded-lg flex items-center gap-2 hover:bg-green-700 transition-colors font-bold shadow-md shadow-green-200",children:[e.jsx(ge,{size:18})," ",x?"Update Member":"Confirm Onboarding"]})]})]}),e.jsx("div",{className:"px-8 pb-8",children:e.jsx(me,{errors:r})}),e.jsx("style",{children:`
                .label { display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 0.375rem; }
                .input-field { width: 100%; padding: 0.625rem 0.875rem; background-color: #fff; border: 1px solid #d1d5db; border-radius: 0.5rem; color: #111827; font-size: 0.93rem; transition: all 0.2s; outline: none; }
                .input-field:focus { border-color: #3b82f6; ring: 2px solid #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
                .error { font-size: 0.75rem; color: #ef4444; margin-top: 0.25rem; display: block; }
            `})]})};export{Me as default};
