import{v as ue,q as me,r as b,x as c,j as e}from"./index-_K9dBzXA.js";import{T as B,a as F,b as E,c as m}from"./tabs-BB7NwzE5.js";import he from"./TeamList-w3KoBLfm.js";import xe from"./SystemRoleManagement-DxVj39qg.js";import pe from"./AttendanceSummaryPage-BvjCmW6k.js";import je from"./BiometricManagerPage-BgbFTihM.js";import ve from"./LeaveManagementPage-BTBhrSKX.js";import ge from"./PayrollManager-DfjKJF6F.js";import{u as w,i as f,S as n,C as U,L as z,j,B as x,D as ye,a as fe,d as Ne,e as be,I as _,k as we,l as Ee,U as O,m as Re,n as Ce}from"./index-C0_MxDCy.js";import{T as Q,a as $,b as N,c as h,d as H,e as d}from"./table-CZtgpgQ3.js";import{B as A}from"./badge-BRRI9-vD.js";import{L as p}from"./label-Cxi2tPpM.js";import{T as Ae}from"./textarea-Bsi8Vsim.js";import{S as L,a as S,b as D,c as M,d as l}from"./select-BsM-SyXO.js";import{C as Le,a as Se,b as De,d as Me,c as Te}from"./card-BJXC2BmV.js";import{C as Pe}from"./clock-89fNMNOB.js";import{P as qe}from"./pen-CBlSZq_l.js";import Ie from"./ResignationPage-BQe0lw2l.js";import{C as G}from"./clipboard-list-Bjc2YLhO.js";import"./index-CemV9wER.js";import"./index-feRhg8F5.js";import"./ImageUpload-DRrfqLP6.js";import"./loader-2-m9uN2hHg.js";import"./StaffFormModal-CtQVWf0l.js";import"./FormErrorAlert-DtE7FnRK.js";import"./alert-circle-Dgl9YWib.js";import"./compat-BdhRJLCk.js";import"./save-BPR9f-BE.js";import"./filter-t9sSzATh.js";import"./check-circle-DX-ak2PV.js";import"./phone-CURqDDBO.js";import"./square-pen-D_ZMGx43.js";import"./xlsx-DrgRuPKf.js";import"./jspdf.es.min-DaBCeuWy.js";import"./jspdf.plugin.autotable-CtA5BUKo.js";import"./RegularisationPage-D4oQDqq3.js";import"./BiometricDetailsPage-BoA6Ibry.js";import"./file-spreadsheet-0LGas0cG.js";import"./activity-BIVplPpj.js";import"./LeaveSummaryPage-BkfRGZNJ.js";import"./CalendarPage-CEd6a9zU.js";import"./subMonths-DQeUZ5Iv.js";import"./startOfMonth-Bz6Ir4Q3.js";import"./RequestPage-DtJku2Kn.js";import"./LeaveHistoryPage-NrxaJukH.js";import"./ConfirmationModal-CBglAdUX.js";import"./x-circle-DJEckX6R.js";import"./HolidayLeavePlannerPage-BwuUIQyC.js";import"./plus-circle-Cik7kgTw.js";import"./SalaryCalculator-BdnjoZJX.js";import"./PayrollSettings-LSucza9s.js";import"./dollar-sign-k8ODSGZ6.js";import"./Payslips-CIQPIUyh.js";import"./html2canvas.esm-CBrSDip1.js";import"./dropdown-menu-3eTXn1g5.js";import"./index-I-cGsQdO.js";import"./circle-C-AcgedN.js";import"./printer-BV8c6w5B.js";import"./SalaryStatementPage-SqzJDjBZ.js";import"./PayrollCalendar-Bcz57OOR.js";import"./PayrollProcess-Bii306Uk.js";import"./PayrollReports-DZC0gfm-.js";import"./CategoricalChart-CFD9d8bu.js";import"./BarChart-DRqz7hhH.js";import"./bar-chart-3-BwMqX-uz.js";/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),_e=()=>{const i=me(),[T,v]=b.useState(!1),[o,u]=b.useState(null),[g,Y]=b.useState((new Date().getMonth()+1).toString()),[R,J]=b.useState(new Date().getFullYear().toString()),[C,W]=b.useState("ALL"),{data:I=[],isLoading:Be}=w({queryKey:["leave-requests"],queryFn:async()=>(await c.get("/leave/requests")).data}),{data:K=[],isLoading:Fe}=w({queryKey:["regularisation-requests"],queryFn:async()=>(await c.get("/attendance/regularisation/requests?status=PENDING")).data}),{data:X=[],isLoading:Ve}=w({queryKey:["leave-history",g,R,C],queryFn:async()=>(await c.get("/leave/history",{params:{month:g,year:R,status:C}})).data}),{data:Z=[],isLoading:ke}=w({queryKey:["regularisation-history",g,R,C],queryFn:async()=>(await c.get("/attendance/regularisation/history",{params:{month:g,year:R,status:C}})).data}),{data:P=[],isLoading:Oe}=w({queryKey:["resignation-requests"],queryFn:async()=>(await c.get("/team/resignation")).data}),V=f({mutationFn:async({id:t,type:s,status:a,reason:r})=>{const y=s==="LEAVE"?`/leave/${t}/status`:`/attendance/regularisation/${t}/status`;return c.patch(y,{status:a,rejection_reason:r})},onSuccess:()=>{i.invalidateQueries({queryKey:["leave-requests"]}),i.invalidateQueries({queryKey:["regularisation-requests"]}),i.invalidateQueries({queryKey:["leave-history"]}),i.invalidateQueries({queryKey:["regularisation-history"]}),i.invalidateQueries({queryKey:["resignation-requests"]}),n.fire({title:"Success",text:"Request updated successfully",icon:"success",timer:1500})},onError:t=>{var s,a;n.fire("Error",((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||"Action failed","error")}}),ee=f({mutationFn:async({id:t,type:s})=>{const a=s==="LEAVE"?`/leave/${t}`:`/attendance/regularisation/${t}`;return c.delete(a)},onSuccess:()=>{i.invalidateQueries({queryKey:["leave-requests"]}),i.invalidateQueries({queryKey:["regularisation-requests"]}),i.invalidateQueries({queryKey:["leave-history"]}),i.invalidateQueries({queryKey:["regularisation-history"]}),n.fire({title:"Deleted",text:"Request deleted successfully",icon:"success",timer:1500})},onError:t=>{var s,a;n.fire("Error",((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||"Delete failed","error")}}),te=f({mutationFn:async t=>await c.patch(`/team/resignation/${t}/approve`),onSuccess:()=>{i.invalidateQueries({queryKey:["resignation-requests"]}),n.fire({title:"Approved",text:"Resignation approved & notice started.",icon:"success",timer:1500})},onError:t=>{var s,a;return n.fire("Error",((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||"Approval failed","error")}}),se=f({mutationFn:async({id:t,reason:s})=>await c.patch(`/team/resignation/${t}/reject`,{reason:s}),onSuccess:()=>{i.invalidateQueries({queryKey:["resignation-requests"]}),n.fire({title:"Rejected",text:"Resignation request rejected.",icon:"success",timer:1500})},onError:t=>{var s,a;return n.fire("Error",((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||"Rejection failed","error")}}),ae=f({mutationFn:async t=>{const s=o.category==="LEAVE"?`/leave/${o.id}`:`/attendance/regularisation/${o.id}`;return c.put(s,t)},onSuccess:()=>{v(!1),u(null),i.invalidateQueries({queryKey:["leave-requests"]}),i.invalidateQueries({queryKey:["regularisation-requests"]}),i.invalidateQueries({queryKey:["leave-history"]}),i.invalidateQueries({queryKey:["regularisation-history"]}),n.fire({title:"Updated",text:"Request updated successfully",icon:"success",timer:1500})},onError:t=>{var s,a;n.fire("Error",((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||"Update failed","error")}}),re=f({mutationFn:async({id:t,type:s})=>{const a=s==="LEAVE"?`/leave/${t}/revert`:`/attendance/regularisation/${t}/revert`;return c.post(a)},onSuccess:()=>{i.invalidateQueries({queryKey:["leave-requests"]}),i.invalidateQueries({queryKey:["regularisation-requests"]}),i.invalidateQueries({queryKey:["leave-history"]}),i.invalidateQueries({queryKey:["regularisation-history"]}),n.fire({title:"Reverted",text:"Request reverted to Pending",icon:"success",timer:1500})},onError:t=>{var s,a;return n.fire("Error",((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||"Revert failed","error")}}),ie=(t,s)=>{const a=s==="REGULARISATION"?"Approve & Update Attendance?":"Approve Leave?",r=s==="REGULARISATION"?`This will mark ${t.user.full_name} as PRESENT for ${j(new Date(t.date),"MMM dd, yyyy")}.`:`This will mark ${t.user.full_name} on LEAVE from ${j(new Date(t.start_date),"MMM dd")} to ${j(new Date(t.end_date),"MMM dd")}.`;n.fire({title:a,text:r,icon:"warning",showCancelButton:!0,confirmButtonColor:"#10b981",confirmButtonText:"Yes, Approve"}).then(y=>{y.isConfirmed&&V.mutate({id:t.id,type:s,status:"APPROVED"})})},ne=(t,s)=>{n.fire({title:"Reject Request",input:"text",inputLabel:"Reason for Rejection",inputPlaceholder:"Enter reason...",showCancelButton:!0,confirmButtonColor:"#ef4444",confirmButtonText:"Reject"}).then(a=>{a.isConfirmed&&V.mutate({id:t.id,type:s,status:"REJECTED",reason:a.value})})},k=(t,s)=>{s==="APPROVE"?n.fire({title:"Approve Resignation?",text:`This will start the notice period for ${t.employee.full_name}.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#10b981",confirmButtonText:"Yes, Approve"}).then(a=>{a.isConfirmed&&te.mutate(t.id)}):n.fire({title:"Reject Resignation",input:"text",inputLabel:"Reason",inputPlaceholder:"Reason for rejection...",showCancelButton:!0,confirmButtonColor:"#ef4444",confirmButtonText:"Reject"}).then(a=>{a.isConfirmed&&se.mutate({id:t.id,reason:a.value})})},le=(t,s)=>{n.fire({title:"Delete Request?",text:"This action cannot be undone.",icon:"error",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes, Delete"}).then(a=>{a.isConfirmed&&ee.mutate({id:t,type:s})})},oe=(t,s)=>{u({...t,category:s}),v(!0)},de=(t,s)=>{n.fire({title:"Revert to Pending?",text:"This will undo the approval/rejection and allow you to process it again.",icon:"question",showCancelButton:!0,confirmButtonColor:"#f59e0b",confirmButtonText:"Yes, Revert"}).then(a=>{a.isConfirmed&&re.mutate({id:t.id,type:s})})},ce=t=>{t.preventDefault();const s=new FormData(t.target),a=Object.fromEntries(s.entries());ae.mutate(a)},q=({requests:t,type:s,isHistory:a=!1})=>e.jsx("div",{className:"rounded-md border",children:e.jsxs(Q,{children:[e.jsx($,{children:e.jsxs(N,{children:[e.jsx(h,{children:"Staff Name"}),e.jsx(h,{children:"Date(s)"}),e.jsx(h,{children:"Type/Reason"}),a&&e.jsx(h,{children:"Actioned By"}),e.jsx(h,{children:"Status"}),e.jsx(h,{className:"text-right",children:"Actions"})]})}),e.jsx(H,{children:t.length===0?e.jsx(N,{children:e.jsx(d,{colSpan:a?6:5,className:"text-center h-24 text-muted-foreground",children:"No requests found."})}):t.map(r=>{var y;return e.jsxs(N,{children:[e.jsx(d,{className:"font-medium",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:r.user.full_name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:r.user.role})]})}),e.jsx(d,{children:s==="LEAVE"?e.jsx("div",{className:"flex flex-col",children:e.jsxs("span",{children:[j(new Date(r.start_date),"MMM dd")," - ",j(new Date(r.end_date),"MMM dd, yyyy")]})}):e.jsx("span",{children:j(new Date(r.date),"MMM dd, yyyy")})}),e.jsx(d,{className:"max-w-[250px]",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-xs",children:r.type}),e.jsx("p",{className:"truncate text-sm text-muted-foreground",title:r.reason,children:r.reason})]})}),a&&e.jsx(d,{children:e.jsx("span",{className:"text-sm",children:((y=r.approver)==null?void 0:y.full_name)||"-"})}),e.jsx(d,{children:e.jsx(A,{variant:r.status==="PENDING"?"secondary":r.status==="APPROVED"?"default":"destructive",children:r.status})}),e.jsx(d,{className:"text-right",children:e.jsx("div",{className:"flex justify-end gap-2",children:r.status==="PENDING"?e.jsxs(e.Fragment,{children:[e.jsx(x,{variant:"ghost",size:"icon",onClick:()=>oe(r,s),title:"Edit",children:e.jsx(qe,{className:"h-4 w-4 text-blue-600"})}),e.jsx(x,{variant:"ghost",size:"icon",onClick:()=>le(r.id,s),title:"Delete",children:e.jsx(Ee,{className:"h-4 w-4 text-red-600"})}),!a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-6 bg-border mx-1"}),e.jsx(x,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>ne(r,s),children:"Reject"}),e.jsx(x,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>ie(r,s),children:"Approve"})]})]}):a&&e.jsxs(x,{size:"sm",variant:"outline",onClick:()=>de(r,s),title:"Revert to Pending",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"})," Revert"]})})})]},r.id)})})]})});return e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[e.jsxs(Le,{children:[e.jsx(Se,{className:"pb-3",children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx(De,{children:"Approvals Management"}),e.jsx(Me,{children:"Process pending requests or review history."})]})})}),e.jsx(Te,{children:e.jsxs(B,{defaultValue:"pending",className:"w-full",children:[e.jsxs(F,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(E,{value:"pending",children:"Pending Actions"}),e.jsx(E,{value:"history",children:"Approval History"})]}),e.jsx(m,{value:"pending",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-yellow-600"})," Leave Requests",I.filter(t=>t.status==="PENDING").length>0&&e.jsx(A,{variant:"destructive",className:"ml-1 rounded-full px-1.5 py-0.5 text-[10px] h-auto min-w-[20px] justify-center",children:I.filter(t=>t.status==="PENDING").length})]}),e.jsx(q,{requests:I.filter(t=>t.status==="PENDING"),type:"LEAVE"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4 text-purple-600"})," Regularization Requests",K.length>0&&e.jsx(A,{variant:"destructive",className:"ml-1 rounded-full px-1.5 py-0.5 text-[10px] h-auto min-w-[20px] justify-center",children:K.length})]}),e.jsx(q,{requests:K,type:"REGULARISATION"})]}),e.jsxs("div",{className:"space-y-2 col-span-1 lg:col-span-2",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-red-600"})," Resignation Requests",P.filter(t=>t.status==="APPLIED").length>0&&e.jsx(A,{variant:"destructive",className:"ml-1 rounded-full px-1.5 py-0.5 text-[10px] h-auto min-w-[20px] justify-center",children:P.filter(t=>t.status==="APPLIED").length})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Q,{children:[e.jsx($,{children:e.jsxs(N,{children:[e.jsx(h,{children:"Employee"}),e.jsx(h,{children:"Applied Date"}),e.jsx(h,{children:"Reason"}),e.jsx(h,{children:"Status"}),e.jsx(h,{className:"text-right",children:"Actions"})]})}),e.jsx(H,{children:P.filter(t=>t.status==="APPLIED").length===0?e.jsx(N,{children:e.jsx(d,{colSpan:5,className:"text-center h-24 text-muted-foreground",children:"No pending resignations."})}):P.filter(t=>t.status==="APPLIED").map(t=>e.jsxs(N,{children:[e.jsxs(d,{children:[e.jsx("div",{className:"font-medium",children:t.employee.full_name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:t.employee.role})]}),e.jsx(d,{children:j(new Date(t.applied_date),"dd MMM yyyy")}),e.jsx(d,{className:"max-w-[300px] truncate",title:t.reason,children:t.reason}),e.jsx(d,{children:e.jsx(A,{variant:"outline",children:t.status})}),e.jsx(d,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(x,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>k(t,"REJECT"),children:"Reject"}),e.jsx(x,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>k(t,"APPROVE"),children:"Approve"})]})})]},t.id))})]})})]})]})}),e.jsxs(m,{value:"history",className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4 items-end bg-muted/50 p-4 rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{children:"Month"}),e.jsxs(L,{value:g,onValueChange:Y,children:[e.jsx(S,{className:"w-[150px] bg-white",children:e.jsx(D,{})}),e.jsx(M,{children:Array.from({length:12},(t,s)=>e.jsx(l,{value:(s+1).toString(),children:j(new Date(2e3,s,1),"MMMM")},s+1))})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{children:"Year"}),e.jsxs(L,{value:R,onValueChange:J,children:[e.jsx(S,{className:"w-[100px] bg-white",children:e.jsx(D,{})}),e.jsxs(M,{children:[e.jsx(l,{value:"2024",children:"2024"}),e.jsx(l,{value:"2025",children:"2025"}),e.jsx(l,{value:"2026",children:"2026"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{children:"Status"}),e.jsxs(L,{value:C,onValueChange:W,children:[e.jsx(S,{className:"w-[150px] bg-white",children:e.jsx(D,{})}),e.jsxs(M,{children:[e.jsx(l,{value:"ALL",children:"All Status"}),e.jsx(l,{value:"APPROVED",children:"Approved"}),e.jsx(l,{value:"REJECTED",children:"Rejected"}),e.jsx(l,{value:"PENDING",children:"Pending"})]})]})]})]}),e.jsxs(B,{defaultValue:"hist-leave",className:"w-full",children:[e.jsxs(F,{className:"w-full justify-start border-b rounded-none h-auto p-0 bg-transparent space-x-6",children:[e.jsx(E,{value:"hist-leave",className:"data-[state=active]:border-b-2 data-[state=active]:border-yellow-500 rounded-none px-0 py-2",children:"Leave History"}),e.jsx(E,{value:"hist-reg",className:"data-[state=active]:border-b-2 data-[state=active]:border-purple-500 rounded-none px-0 py-2",children:"Regularization History"})]}),e.jsx(m,{value:"hist-leave",className:"mt-4",children:e.jsx(q,{requests:X,type:"LEAVE",isHistory:!0})}),e.jsx(m,{value:"hist-reg",className:"mt-4",children:e.jsx(q,{requests:Z,type:"REGULARISATION",isHistory:!0})})]})]})]})})]}),e.jsx(ye,{open:T,onOpenChange:v,children:e.jsxs(fe,{children:[e.jsx(Ne,{children:e.jsx(be,{children:"Edit Request"})}),o&&e.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.category==="LEAVE"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"start_date",children:"Start Date"}),e.jsx(_,{id:"start_date",name:"start_date",type:"date",defaultValue:o.start_date.split("T")[0],required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"end_date",children:"End Date"}),e.jsx(_,{id:"end_date",name:"end_date",type:"date",defaultValue:o.end_date.split("T")[0],required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"type",children:"Leave Type"}),e.jsxs(L,{name:"type",defaultValue:o.type,children:[e.jsx(S,{children:e.jsx(D,{placeholder:"Select type"})}),e.jsxs(M,{children:[e.jsx(l,{value:"Sick Leave",children:"Sick Leave"}),e.jsx(l,{value:"Casual Leave",children:"Casual Leave"}),e.jsx(l,{value:"Privilege Leave",children:"Privilege Leave"}),e.jsx(l,{value:"Unpaid Leave",children:"Unpaid Leave"})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"date",children:"Date"}),e.jsx(_,{id:"date",name:"date",type:"date",defaultValue:o.date.split("T")[0],required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"type",children:"Type"}),e.jsxs(L,{name:"type",defaultValue:o.type,children:[e.jsx(S,{children:e.jsx(D,{placeholder:"Select type"})}),e.jsxs(M,{children:[e.jsx(l,{value:"MISSED_CHECK_IN",children:"Missed Check-In"}),e.jsx(l,{value:"MISSED_CHECK_OUT",children:"Missed Check-Out"}),e.jsx(l,{value:"WORK_FROM_HOME",children:"Work From Home"}),e.jsx(l,{value:"ON_DUTY",children:"On Duty"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"reason",children:"Reason"}),e.jsx(Ae,{id:"reason",name:"reason",defaultValue:o.reason,required:!0})]})]}),e.jsxs(we,{children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsx(x,{type:"submit",children:"Save Changes"})]})]})]})})]})},es=()=>{const[i,T]=b.useState("team"),{data:v}=w({queryKey:["pending-approvals-count"],queryFn:async()=>{const[u,g]=await Promise.all([c.get("/leave/requests?status=PENDING"),c.get("/attendance/regularisation/requests?status=PENDING")]);return(u.data.length||0)+(g.data.length||0)},refetchInterval:3e4}),o=[{id:"team",label:"Team List",icon:O,theme:"yellow"},{id:"roles",label:"System Roles",icon:O,theme:"purple"},{id:"attendance",label:"Attendance",icon:G,theme:"yellow"},{id:"biometric",label:"Biometric Manager",icon:Re,theme:"purple"},{id:"leave",label:"Leave",icon:U,theme:"yellow"},{id:"payroll",label:"Payroll",icon:Ce,theme:"purple"},{id:"resignation",label:"Relieve / Resignation",icon:z,theme:"yellow"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("div",{}),e.jsxs(x,{className:`relative h-12 px-6 text-lg font-bold shadow-lg transition-all ${i==="approvals"?"bg-red-600 hover:bg-red-700 text-white ring-2 ring-red-300":"bg-white text-gray-800 border hover:bg-gray-50"}`,onClick:()=>T("approvals"),children:[e.jsx(G,{className:"w-5 h-5 mr-3"}),"Approvals",v>0&&e.jsx("span",{className:"absolute -top-2 -right-2 flex h-6 w-6 items-center justify-center rounded-full bg-red-600 text-xs font-bold text-white shadow-md border-2 border-white animate-pulse",children:v})]})]}),e.jsxs(B,{value:i,onValueChange:T,className:"w-full",children:[e.jsxs(F,{className:"flex flex-wrap h-auto gap-2 bg-transparent p-0 mb-6 w-full justify-start border-b pb-2",children:[o.map(u=>e.jsxs(E,{value:u.id,className:`
                                data-[state=active]:bg-${u.theme==="purple"?"purple-900":"yellow-400"} 
                                data-[state=active]:text-${u.theme==="purple"?"yellow-400":"purple-900"} 
                                data-[state=inactive]:bg-white data-[state=inactive]:text-gray-600 
                                px-4 py-2 rounded-md font-bold transition-all shadow-sm border border-transparent 
                                data-[state=active]:border-${u.theme==="purple"?"yellow-400":"purple-900"} 
                                data-[state=inactive]:border-gray-200
                            `,children:[e.jsx(u.icon,{className:"w-4 h-4 mr-2"})," ",u.label]},u.id)),e.jsx(E,{value:"approvals",className:"hidden",children:"Approvals"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 min-h-[600px]",children:[e.jsx(m,{value:"team",className:"mt-0",children:e.jsx(he,{})}),e.jsx(m,{value:"roles",className:"mt-0",children:e.jsx(xe,{})}),e.jsx(m,{value:"attendance",className:"mt-0",children:e.jsx(pe,{})}),e.jsx(m,{value:"biometric",className:"mt-0",children:e.jsx(je,{})}),e.jsx(m,{value:"leave",className:"mt-0",children:e.jsx(ve,{})}),e.jsx(m,{value:"payroll",className:"mt-0",children:e.jsx(ge,{})}),e.jsx(m,{value:"approvals",className:"mt-0",children:e.jsx(_e,{})}),e.jsx(m,{value:"resignation",className:"mt-0",children:e.jsx(Ie,{})})]})]})]})};export{es as default};
